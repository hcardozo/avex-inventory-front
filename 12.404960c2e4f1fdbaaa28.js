(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"1ku2":function(o,r,i){"use strict";i.r(r),i.d(r,"UsuarioGuiModule",(function(){return K}));var e=i("SVse"),a=i("iInd"),t=i("+Tu1"),n=i("0j/G"),l=i("8Y7J"),s=i("4Uo6"),u=i("eGJP"),c=i("Cd5o"),d=i("7g+E"),m=i("hhfa"),f=i("ZRSf"),b=i("MY3+"),p=i("VhXZ"),v=i("s7LF"),h=i("51Ls");const C=["paginador"];function g(o,r){if(1&o&&(l.Ub(0,"option",15),l.Gc(1),l.Tb()),2&o){const o=r.$implicit;l.jc("value",o),l.Cb(1),l.Hc(o)}}function U(o,r){if(1&o){const o=l.Vb();l.Ub(0,"div",8),l.Ub(1,"h5",9),l.Gc(2,"Usuarios"),l.Tb(),l.Ub(3,"select",10),l.bc("ngModelChange",(function(r){return l.vc(o),l.dc().registros=r}))("change",(function(){return l.vc(o),l.dc().cambioCantidadRegistros()})),l.Ec(4,g,2,2,"option",11),l.Tb(),l.Ub(5,"span",12),l.Pb(6,"i",13),l.Ub(7,"input",14),l.bc("input",(function(r){return l.vc(o),l.dc(),l.uc(1).filterGlobal(r.target.value,"contains")})),l.Tb(),l.Tb(),l.Tb()}if(2&o){const o=l.dc();l.Cb(3),l.jc("ngModel",o.registros),l.Cb(1),l.jc("ngForOf",o.registrosHabilitados)}}function T(o,r){1&o&&(l.Ub(0,"tr"),l.Ub(1,"th",16),l.Gc(2," Nombre "),l.Pb(3,"p-sortIcon",17),l.Pb(4,"p-columnFilter",18),l.Tb(),l.Ub(5,"th",19),l.Gc(6," Correo "),l.Pb(7,"p-sortIcon",20),l.Pb(8,"p-columnFilter",21),l.Tb(),l.Ub(9,"th",22),l.Gc(10," Usuario "),l.Pb(11,"p-sortIcon",23),l.Pb(12,"p-columnFilter",24),l.Tb(),l.Ub(13,"th",25),l.Gc(14," Perfil "),l.Pb(15,"p-sortIcon",26),l.Pb(16,"p-columnFilter",27),l.Tb(),l.Ub(17,"th",28),l.Gc(18," Estado "),l.Pb(19,"p-sortIcon",29),l.Pb(20,"p-columnFilter",30),l.Tb(),l.Ub(21,"th"),l.Gc(22,"Acciones "),l.Tb(),l.Tb())}function q(o,r){if(1&o){const o=l.Vb();l.Ub(0,"tr"),l.Ub(1,"td",31,32),l.bc("blur",(function(){return l.vc(o),l.uc(2).scrollLeft=0})),l.Ub(3,"span",33),l.Gc(4,"Nombre"),l.Tb(),l.Gc(5),l.Tb(),l.Ub(6,"td"),l.Ub(7,"span",33),l.Gc(8,"Correo"),l.Tb(),l.Gc(9),l.Tb(),l.Ub(10,"td"),l.Ub(11,"span",33),l.Gc(12,"Usuario"),l.Tb(),l.Gc(13),l.Tb(),l.Ub(14,"td"),l.Ub(15,"span",33),l.Gc(16,"Perfil"),l.Tb(),l.Gc(17),l.Tb(),l.Ub(18,"td"),l.Ub(19,"span",33),l.Gc(20,"Estado"),l.Tb(),l.Ub(21,"p-inputSwitch",34),l.bc("onChange",(function(i){l.vc(o);const e=r.$implicit;return l.dc().cambiarEstado(i,e)}))("ngModelChange",(function(i){return l.vc(o),r.$implicit.estado=i})),l.Tb(),l.Tb(),l.Ub(22,"td",35),l.Ub(23,"span",33),l.Gc(24,"Acciones"),l.Tb(),l.Ub(25,"button",36),l.bc("click",(function(){l.vc(o);const i=r.$implicit;return l.dc().modificarUsuario(i)})),l.Pb(26,"i",37),l.Tb(),l.Ub(27,"button",38),l.bc("click",(function(){l.vc(o);const i=r.$implicit;return l.dc().eliminarUsuario(i)})),l.Pb(28,"i",39),l.Tb(),l.Tb(),l.Tb()}if(2&o){const o=r.$implicit;l.Cb(5),l.Hc(o.nombre),l.Cb(4),l.Hc(o.email),l.Cb(4),l.Hc(o.usuario),l.Cb(4),l.Hc(o.perfil),l.Cb(4),l.jc("ngModel",o.estado)}}const R=function(){return["nombre","email","usuario","perfil","estado"]},I=function(){return{width:"50vw"}};let w=(()=>{class o{constructor(o,r,i,e,a,t,n,l){var s,u,c;this.usuarioService=o,this.metodosComunes=r,this.alertService=i,this.router=e,this.activatedRoute=a,this.spinner=t,this.confirmationService=n,this.primengConfig=l,this.listaUsuarios=[],this.pagina=1,this.registros=5,this.registrosHabilitados=[5,10,20,50],this.segundoNivel=null===(c=null===(u=null===(s=this.router.getCurrentNavigation())||void 0===s?void 0:s.extras)||void 0===u?void 0:u.state)||void 0===c?void 0:c.datos}ngOnInit(){this.datosSesion=JSON.parse(localStorage.getItem(n.a)),this.primengConfig.ripple=!0,this.refrescarTabla()}cambiarEstado(o,r){var i,e;this.spinner.show();let a={guid:r.guid,usuarioModificacion:null===(e=null===(i=this.datosSesion)||void 0===i?void 0:i.usuarioAvexInfo)||void 0===e?void 0:e.nombre};this.usuarioService.cambiarEstadoUsuario({parametro:a}).subscribe(()=>{this.spinner.hide()},o=>{throw this.spinner.hide(),this.alertService.mostrarNotificacion(t.a.ERROR,"Error al actualizar Usuario","Se presentan problemas al realizar actualizacion de estado de usuario, por favor intente nuevamente."),o})}modificarUsuario(o){this.router.navigate(["./modificarUsuario"],{state:{usuario:o},relativeTo:this.activatedRoute.parent,skipLocationChange:!0})}eliminarUsuario(o){this.confirmationService.confirm({message:`Esta seguro que desea eliminar el usario ${o.usuario}?`,header:"Eliminar Usuario",icon:"pi pi-info-circle",accept:()=>{var r,i;this.spinner.show();let e={guid:o.guid,usuarioModificacion:null===(i=null===(r=this.datosSesion)||void 0===r?void 0:r.usuarioAvexInfo)||void 0===i?void 0:i.nombre},a=this.listaUsuarios.findIndex(r=>r.guid==o.guid);this.listaUsuarios.splice(a,1),this.usuarioService.eliminarUsuario({parametro:e}).subscribe(o=>{this.spinner.hide(),(null==o?void 0:o.resultado.resultado)&&this.alertService.mostrarNotificacion(t.a.EXITOSA,"Usuario Eliminado","Usuario eliminado de manera correcta.")},o=>{throw this.spinner.hide(),this.alertService.mostrarNotificacion(t.a.ERROR,"Error al eliminar Usuario","Se presentan problemas al realizar eliminacion de usuario, por favor intente nuevamente."),o})},reject:()=>{}})}cambioCantidadRegistros(){this.pagina=1,this.paginador.changePage(0),this.refrescarTabla()}refrescarTabla(){this.spinner.show(),this.usuarioService.infoPaginacion({parametro:{registros:this.registros}}).subscribe(o=>{null!=o.resultado&&(this.totalPaginas=o.resultado.totalPaginas,this.totalRegistros=o.resultado.totalRegistros,this.usuarioService.listarUsuarios({parametro:{pagina:this.pagina,registros:this.registros}}).subscribe(o=>{this.spinner.hide(),(null==o?void 0:o.resultadoList)&&(this.listaUsuarios=o.resultadoList)},o=>{throw this.spinner.hide(),this.alertService.mostrarNotificacion(t.a.ERROR,"Error al registrar Usuario","Se presentan problemas al realizar el registro de usuario, por favor intente nuevamente."),o}))})}cambiarPagina(o){this.pagina=o.page+1,this.refrescarTabla()}}return o.\u0275fac=function(r){return new(r||o)(l.Ob(s.t),l.Ob(u.a),l.Ob(c.a),l.Ob(a.b),l.Ob(a.a),l.Ob(d.c),l.Ob(m.b),l.Ob(m.i))},o.\u0275cmp=l.Ib({type:o,selectors:[["app-listar-usuario"]],viewQuery:function(o,r){var i;1&o&&l.Jc(C,!0),2&o&&l.tc(i=l.cc())&&(r.paginador=i.first)},decls:8,vars:12,consts:[["dataKey","id","styleClass","p-datatable-responsive-demo",3,"value","globalFilterFields","rowHover"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"rows","totalRecords","pageLinkSize","first","onPageChange"],["paginador",""],[3,"baseZIndex"],[1,"cabecera-tabla"],[1,"titulo"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Search...",3,"input"],[3,"value"],["pSortableColumn","nombre"],["field","nombre"],["type","text","field","nombre","display","menu"],["pSortableColumn","email"],["field","email"],["type","text","field","email","display","menu"],["pSortableColumn","usuario"],["field","usuario"],["type","text","field","usuario","display","menu"],["pSortableColumn","perfil"],["field","perfil"],["type","text","field","perfil","display","menu"],["pSortableColumn","estado"],["field","estado"],["type","boolean","field","estado","display","menu"],[3,"blur"],["row",""],[1,"p-column-title"],[3,"ngModel","onChange","ngModelChange"],[1,"acciones"],[1,"btn","btn-warning",3,"click"],[1,"fa","fa-edit"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"]],template:function(o,r){1&o&&(l.Ub(0,"p-table",0,1),l.Ec(2,U,8,2,"ng-template",2),l.Ec(3,T,23,0,"ng-template",3),l.Ec(4,q,29,5,"ng-template",4),l.Tb(),l.Ub(5,"p-paginator",5,6),l.bc("onPageChange",(function(o){return r.cambiarPagina(o)})),l.Tb(),l.Pb(7,"p-confirmDialog",7)),2&o&&(l.jc("value",r.listaUsuarios)("globalFilterFields",l.kc(10,R))("rowHover",!0),l.Cb(5),l.jc("rows",r.registros)("totalRecords",r.totalRegistros)("pageLinkSize",3)("first",0),l.Cb(2),l.Ac(l.kc(11,I)),l.jc("baseZIndex",0))},directives:[f.d,m.j,b.a,p.a,v.p,v.k,v.m,e.j,v.n,v.r,f.c,f.b,f.a,h.a],styles:[""]}),o})();var G=i("jMqV");function E(o,r){1&o&&(l.Ub(0,"span",27),l.Gc(1," Campo de usuario es requerido "),l.Tb())}function S(o,r){if(1&o){const o=l.Vb();l.Ub(0,"div",4),l.Ub(1,"label",28),l.Gc(2,"Contrase\xf1a"),l.Tb(),l.Pb(3,"input",29),l.Ub(4,"button",30),l.bc("click",(function(){return l.vc(o),l.dc(2).crearContrasena()})),l.Gc(5," Generar"),l.Tb(),l.Tb()}}function y(o,r){1&o&&(l.Ub(0,"span",27),l.Gc(1," Campo de clave es requerido "),l.Tb())}function P(o,r){1&o&&(l.Ub(0,"div",4),l.Ub(1,"label",31),l.Gc(2,"Confirmacion Contrase\xf1a"),l.Tb(),l.Pb(3,"input",32),l.Tb())}function j(o,r){1&o&&(l.Ub(0,"span",27),l.Gc(1," Campo de confirmacion de clave es requerido "),l.Tb())}function A(o,r){1&o&&(l.Ub(0,"span",27),l.Gc(1," Campo de Nombre Completo es requerido "),l.Tb())}function O(o,r){if(1&o&&(l.Ub(0,"option",33),l.Gc(1),l.Tb()),2&o){const o=r.$implicit;l.jc("value",o.id),l.Cb(1),l.Ic(" ",o.tipoDocumento,"")}}function N(o,r){1&o&&(l.Ub(0,"span",27),l.Gc(1," Campo de tipo de documento es requerido "),l.Tb())}function D(o,r){1&o&&(l.Ub(0,"span",27),l.Gc(1," Campo de identificacion es requerido "),l.Tb())}function x(o,r){1&o&&(l.Ub(0,"span",27),l.Gc(1," Campo de correo corporativo es requerido "),l.Tb())}function V(o,r){1&o&&(l.Ub(0,"span",27),l.Gc(1," Campo de correo corporativo es invalido "),l.Tb())}function M(o,r){1&o&&(l.Ub(0,"div",4),l.Ub(1,"label",34),l.Gc(2,"Confirmacion Correo Corporativo"),l.Tb(),l.Pb(3,"input",35),l.Tb())}function k(o,r){1&o&&(l.Ub(0,"span",27),l.Gc(1," Campo de confirmacion de correo corporativo es requerido "),l.Tb())}function z(o,r){1&o&&(l.Ub(0,"span",27),l.Gc(1," Campo de confirmacion de correo corporativo es invalido "),l.Tb())}function F(o,r){1&o&&(l.Ub(0,"span",27),l.Gc(1," Campo de telefono es requerido "),l.Tb())}function L(o,r){if(1&o&&(l.Ub(0,"option",33),l.Gc(1),l.Tb()),2&o){const o=r.$implicit;l.jc("value",o.guidPerfil),l.Cb(1),l.Hc(o.nombrePerfil)}}function Z(o,r){1&o&&(l.Ub(0,"span",27),l.Gc(1," Campo de perfil es requerido "),l.Tb())}function H(o,r){if(1&o){const o=l.Vb();l.Ub(0,"button",36),l.bc("click",(function(){l.vc(o);const r=l.dc(2);return r.agregarUsuario(r.formulario)})),l.Gc(1," Agregar "),l.Tb()}if(2&o){const o=l.dc(2);l.jc("disabled",!o.formularioActual.valid)}}function $(o,r){if(1&o){const o=l.Vb();l.Ub(0,"button",36),l.bc("click",(function(){l.vc(o);const r=l.dc(2);return r.modificarUsuario(r.formulario)})),l.Gc(1," Modificar "),l.Tb()}if(2&o){const o=l.dc(2);l.jc("disabled",!o.formularioActual.valid)}}function _(o,r){if(1&o&&(l.Ub(0,"div",1),l.Ub(1,"h2"),l.Pb(2,"i",2),l.Gc(3),l.Tb(),l.Ub(4,"form",3),l.Ub(5,"div",4),l.Ub(6,"label",5),l.Gc(7,"Usuario"),l.Tb(),l.Pb(8,"input",6),l.Tb(),l.Ec(9,E,2,0,"span",7),l.Ec(10,S,6,0,"div",8),l.Ec(11,y,2,0,"span",7),l.Ec(12,P,4,0,"div",8),l.Ec(13,j,2,0,"span",7),l.Ub(14,"div",4),l.Ub(15,"label",9),l.Gc(16,"Nombre Completo"),l.Tb(),l.Pb(17,"input",10),l.Tb(),l.Ec(18,A,2,0,"span",7),l.Ub(19,"div",4),l.Ub(20,"label",11),l.Gc(21,"Tipo de Documento"),l.Tb(),l.Ub(22,"select",12),l.Ub(23,"option",13),l.Gc(24,"Seleccionar un tipo de documento"),l.Tb(),l.Ec(25,O,2,2,"option",14),l.Tb(),l.Tb(),l.Ec(26,N,2,0,"span",7),l.Ub(27,"div",4),l.Ub(28,"label",15),l.Gc(29,"Numero de Identificacion"),l.Tb(),l.Pb(30,"input",16),l.Tb(),l.Ec(31,D,2,0,"span",7),l.Ub(32,"div",4),l.Ub(33,"label",17),l.Gc(34,"Correo corporativo"),l.Tb(),l.Pb(35,"input",18),l.Tb(),l.Ec(36,x,2,0,"span",7),l.Ec(37,V,2,0,"span",7),l.Ec(38,M,4,0,"div",8),l.Ec(39,k,2,0,"span",7),l.Ec(40,z,2,0,"span",7),l.Ub(41,"div",4),l.Ub(42,"label",19),l.Gc(43,"Telefono"),l.Tb(),l.Pb(44,"input",20),l.Tb(),l.Ec(45,F,2,0,"span",7),l.Ub(46,"div",4),l.Ub(47,"label",21),l.Gc(48,"Perfil"),l.Tb(),l.Ub(49,"select",22),l.Ub(50,"option",13),l.Gc(51,"Seleccionar un perfil"),l.Tb(),l.Ec(52,L,2,2,"option",14),l.Tb(),l.Tb(),l.Ec(53,Z,2,0,"span",7),l.Ub(54,"div",4),l.Ub(55,"label",23),l.Gc(56,"Habilitar"),l.Tb(),l.Pb(57,"mat-slide-toggle",24),l.Tb(),l.Ub(58,"div",25),l.Ec(59,H,2,1,"button",26),l.Ec(60,$,2,1,"button",26),l.Tb(),l.Tb(),l.Tb()),2&o){const o=l.dc();l.Cb(3),l.Ic(" ",null!=o.parametrosRuta&&o.parametrosRuta.modificacion?" Modificar":"Agregar "," Usuario "),l.Cb(1),l.jc("formGroup",o.formularioActual),l.Cb(4),l.jc("readonly",!(null==o.parametrosRuta||!o.parametrosRuta.modificacion)),l.Cb(1),l.jc("ngIf",o.formulario.usuario.dirty&&o.formulario.usuario.errors&&o.formulario.usuario.errors.required),l.Cb(1),l.jc("ngIf",!(null!=o.parametrosRuta&&o.parametrosRuta.modificacion)),l.Cb(1),l.jc("ngIf",(null==o.formulario||null==o.formulario.clave?null:o.formulario.clave.dirty)&&(null==o.formulario||null==o.formulario.clave?null:o.formulario.clave.errors)&&(null==o.formulario||null==o.formulario.clave?null:o.formulario.clave.errors.required)),l.Cb(1),l.jc("ngIf",!(null!=o.parametrosRuta&&o.parametrosRuta.modificacion)),l.Cb(1),l.jc("ngIf",(null==o.formulario||null==o.formulario.confirmacionClave?null:o.formulario.confirmacionClave.dirty)&&(null==o.formulario||null==o.formulario.confirmacionClave?null:o.formulario.confirmacionClave.errors)&&(null==o.formulario||null==o.formulario.confirmacionClave?null:o.formulario.confirmacionClave.errors.required)),l.Cb(5),l.jc("ngIf",o.formulario.nombreCompleto.dirty&&o.formulario.nombreCompleto.errors&&o.formulario.nombreCompleto.errors.required),l.Cb(7),l.jc("ngForOf",o.listTipoDocumento),l.Cb(1),l.jc("ngIf",o.formulario.tipoDeDocumento.dirty&&o.formulario.tipoDeDocumento.errors&&o.formulario.tipoDeDocumento.errors.required),l.Cb(5),l.jc("ngIf",o.formulario.numeroIdentificacion.dirty&&o.formulario.numeroIdentificacion.errors&&o.formulario.numeroIdentificacion.errors.required),l.Cb(5),l.jc("ngIf",o.formulario.correoCorporativo.dirty&&o.formulario.correoCorporativo.errors&&o.formulario.correoCorporativo.errors.required),l.Cb(1),l.jc("ngIf",o.formulario.correoCorporativo.dirty&&o.formulario.correoCorporativo.errors&&o.formulario.correoCorporativo.errors.pattern),l.Cb(1),l.jc("ngIf",!(null!=o.parametrosRuta&&o.parametrosRuta.modificacion)),l.Cb(1),l.jc("ngIf",(null==o.formulario||null==o.formulario.confirmacionCorreoCorporativo?null:o.formulario.confirmacionCorreoCorporativo.dirty)&&(null==o.formulario||null==o.formulario.confirmacionCorreoCorporativo?null:o.formulario.confirmacionCorreoCorporativo.errors)&&(null==o.formulario||null==o.formulario.confirmacionCorreoCorporativo?null:o.formulario.confirmacionCorreoCorporativo.errors.required)),l.Cb(1),l.jc("ngIf",(null==o.formulario||null==o.formulario.confirmacionCorreoCorporativo?null:o.formulario.confirmacionCorreoCorporativo.dirty)&&(null==o.formulario||null==o.formulario.confirmacionCorreoCorporativo?null:o.formulario.confirmacionCorreoCorporativo.errors)&&(null==o.formulario||null==o.formulario.confirmacionCorreoCorporativo?null:o.formulario.confirmacionCorreoCorporativo.errors.pattern)),l.Cb(5),l.jc("ngIf",o.formulario.telefono.dirty&&o.formulario.telefono.errors&&o.formulario.telefono.errors.required),l.Cb(7),l.jc("ngForOf",o.listPerfil),l.Cb(1),l.jc("ngIf",o.formulario.perfil.dirty&&o.formulario.perfil.errors&&o.formulario.perfil.errors.required),l.Cb(6),l.jc("ngIf",!(null!=o.parametrosRuta&&o.parametrosRuta.modificacion)),l.Cb(1),l.jc("ngIf",null==o.parametrosRuta?null:o.parametrosRuta.modificacion)}}let J=(()=>{class o{constructor(o,r,i,e,a,t,n,l){var s,u,c,d;this.formBuilder=o,this.metodosComunes=r,this.usuarioService=i,this.alertService=e,this.tipoDocumento=a,this.perfiles=t,this.spinner=n,this.router=l,this.formularioRegistrarUsuario=new v.f({usuario:new v.d("",[v.q.required]),clave:new v.d("",[v.q.required]),confirmacionClave:new v.d("",[v.q.required]),nombreCompleto:new v.d("",[v.q.required]),tipoDeDocumento:new v.d(null,[v.q.required]),numeroIdentificacion:new v.d("",[v.q.required]),correoCorporativo:new v.d("",[v.q.required,v.q.pattern(new RegExp("[A-Za-z0-9._%-]+@[A-Za-z0-9._%-]+\\.[A-Za-z]{2,3}"))]),confirmacionCorreoCorporativo:new v.d("",[v.q.required,v.q.pattern(new RegExp("[A-Za-z0-9._%-]+@[A-Za-z0-9._%-]+\\.[A-Za-z]{2,3}"))]),telefono:new v.d("",[v.q.required]),perfil:new v.d(null,[v.q.required]),habilitar:new v.d(!0,[v.q.required])}),this.formularioModificacionUsuario=new v.f({usuario:new v.d("",[v.q.required]),guid:new v.d("",[v.q.required]),nombreCompleto:new v.d("",[v.q.required]),tipoDeDocumento:new v.d(null,[v.q.required]),numeroIdentificacion:new v.d("",[v.q.required]),correoCorporativo:new v.d("",[v.q.required,v.q.pattern(new RegExp("[A-Za-z0-9._%-]+@[A-Za-z0-9._%-]+\\.[A-Za-z]{2,3}"))]),telefono:new v.d("",[v.q.required]),perfil:new v.d(null,[v.q.required]),habilitar:new v.d(!0,[v.q.required])}),this.parametrosRuta={},this.parametrosRuta.datosUsuario=null===(c=null===(u=null===(s=this.router.getCurrentNavigation())||void 0===s?void 0:s.extras)||void 0===u?void 0:u.state)||void 0===c?void 0:c.usuario,this.parametrosRuta.modificacion=!!(null===(d=this.parametrosRuta)||void 0===d?void 0:d.datosUsuario)}ngOnInit(){this.datosSesion=JSON.parse(localStorage.getItem(n.a)),this.tipoDocumento.listarTiposDocumento().subscribe(o=>{this.listTipoDocumento=0==o.tipoMensaje?o.resultadoList:null}),this.perfiles.listarPerfilLite().subscribe(o=>{this.listPerfil=0==o.tipoMensaje?o.resultadoList:null}),this.parametrosRuta.modificacion?(this.formularioActual=this.formularioModificacionUsuario,this.asignarValoresModificacion()):this.formularioActual=this.formularioRegistrarUsuario}get formulario(){return this.formularioActual.controls}crearContrasena(){let o=this.metodosComunes.generarContrasenaAleatoria(8);this.formularioRegistrarUsuario.controls.clave.setValue(o),this.formularioRegistrarUsuario.controls.confirmacionClave.setValue(o),this.formularioRegistrarUsuario.updateValueAndValidity()}agregarUsuario(o){var r,i;let e={usuario:o.usuario.value,contrasena:o.clave.value,confirmarContrasena:o.confirmacionClave.value,nombre:o.nombreCompleto.value,tipo_documento:o.tipoDeDocumento.value,documento:o.numeroIdentificacion.value,email:o.correoCorporativo.value,telefono:o.telefono.value,guidPerfil:o.perfil.value,usuarioCreacion:null===(i=null===(r=this.datosSesion)||void 0===r?void 0:r.usuarioAvexInfo)||void 0===i?void 0:i.nombre,estado:o.habilitar.value};this.spinner.show(),this.usuarioService.registrarUsuario({parametro:e}).subscribe(o=>{var r;this.spinner.hide(),!0===(null===(r=null==o?void 0:o.resultado)||void 0===r?void 0:r.resultado)&&(this.formularioActual.reset(),this.formulario.habilitar.setValue(!0),this.alertService.mostrarNotificacion(t.a.EXITOSA,"Registro de Usuario","Usuario registrado exitosamente."))},o=>{throw this.spinner.hide(),this.alertService.mostrarNotificacion(t.a.ERROR,"Error al registrar Usuario","Se presentan problemas al realizar el registro de usuario, por favor intente nuevamente."),o})}asignarValoresModificacion(){this.formulario.usuario.setValue(this.parametrosRuta.datosUsuario.usuario),this.formulario.guid.setValue(this.parametrosRuta.datosUsuario.guid),this.formulario.nombreCompleto.setValue(this.parametrosRuta.datosUsuario.nombre),this.formulario.tipoDeDocumento.setValue(this.parametrosRuta.datosUsuario.tipo_documento),this.formulario.numeroIdentificacion.setValue(this.parametrosRuta.datosUsuario.documento),this.formulario.correoCorporativo.setValue(this.parametrosRuta.datosUsuario.email),this.formulario.telefono.setValue(this.parametrosRuta.datosUsuario.telefono),this.formulario.perfil.setValue(this.parametrosRuta.datosUsuario.guidPerfil),this.formulario.habilitar.setValue(this.parametrosRuta.datosUsuario.estado),this.formularioActual.updateValueAndValidity()}modificarUsuario(o){let r={guid:o.guid.value,nombre:o.nombreCompleto.value,tipo_documento:o.tipoDeDocumento.value,documento:o.numeroIdentificacion.value,email:o.correoCorporativo.value,telefono:o.telefono.value,guidPerfil:o.perfil.value,estado:o.habilitar.value,usuarioModificacion:this.datosSesion.usuarioAvexInfo.usuario};this.spinner.show(),this.usuarioService.modificarUsuario({parametro:r}).subscribe(o=>{var r;this.spinner.hide(),!0===(null===(r=null==o?void 0:o.resultado)||void 0===r?void 0:r.resultado)&&this.alertService.mostrarNotificacion(t.a.EXITOSA,"Modificacion de Usuario","Usuario modificado exitosamente.")},o=>{throw this.spinner.hide(),this.alertService.mostrarNotificacion(t.a.ERROR,"Error al modificar Usuario","Se presentan problemas al realizar la modificacion de usuario, por favor intente nuevamente."),o})}}return o.\u0275fac=function(r){return new(r||o)(l.Ob(v.c),l.Ob(u.a),l.Ob(s.t),l.Ob(c.a),l.Ob(s.r),l.Ob(s.q),l.Ob(d.c),l.Ob(a.b))},o.\u0275cmp=l.Ib({type:o,selectors:[["app-registrar-usuario"]],decls:1,vars:1,consts:[["class","contenedor",4,"ngIf"],[1,"contenedor"],[1,"fa","fa-user-add"],[3,"formGroup"],[1,"item-formulario"],["for","usuario"],["type","text","placeholder","Nombre de Usuario","autocomplete","off","formControlName","usuario","id","usuario",1,"form-control",3,"readonly"],["class","text-danger",4,"ngIf"],["class","item-formulario",4,"ngIf"],["for","nombreCompleto"],["type","text","placeholder","Nombre Completo","autocomplete","off","formControlName","nombreCompleto","id","nombreCompleto",1,"form-control"],["for","tipoDeDocumento"],["placeholder","Tipo de Documento","formControlName","tipoDeDocumento","id","tipoDeDocumento",1,"form-control"],["hidden","","value","null"],[3,"value",4,"ngFor","ngForOf"],["for","numeroIdentificacion"],["type","text","placeholder","Numero de Identificacion","autocomplete","off","formControlName","numeroIdentificacion","id","numeroIdentificacion",1,"form-control"],["for","correoCorporativo"],["type","text","placeholder","Correo Electronico Corporativo","autocomplete","off","formControlName","correoCorporativo","id","correoCorporativo",1,"form-control"],["for","telefono"],["type","text","placeholder","Telefono","autocomplete","off","formControlName","telefono","id","telefono",1,"form-control"],["for","perfil",1,"label-personalizado"],["placeholder","Perfil","formControlName","perfil","id","perfil",1,"form-control"],["for","habilitar",1,"label-personalizado"],["formControlName","habilitar","color","primary","id","habilitar"],[1,"contenedor-botones"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"text-danger"],["for","clave"],["type","text","placeholder","Contrase\xf1a","autocomplete","off","formControlName","clave","id","clave",1,"form-control"],[1,"btn","btn-light",3,"click"],["for","confirmacionClave"],["type","text","placeholder","Volver a Escribir Contrase\xf1a","autocomplete","off","formControlName","confirmacionClave","id","confirmacionClave",1,"form-control"],[3,"value"],["for","confirmacionCorreoCorporativo"],["type","text","placeholder","Volver a Escribir Correo Electronico Corporativo","autocomplete","off","formControlName","confirmacionCorreoCorporativo","id","confirmacionCorreoCorporativo",1,"form-control"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(o,r){1&o&&l.Ec(0,_,61,22,"div",0),2&o&&l.jc("ngIf",r.formularioActual)},directives:[e.k,v.s,v.l,v.g,v.b,v.k,v.e,v.p,v.n,v.r,e.j,G.a],styles:[""]}),o})();const X=[{path:"",redirectTo:"listarUsuarios"},{path:"listarUsuarios",component:w},{path:"registrarUsuario",component:J},{path:"modificarUsuario",component:J}];let Y=(()=>{class o{}return o.\u0275mod=l.Mb({type:o}),o.\u0275inj=l.Lb({factory:function(r){return new(r||o)},imports:[[a.c.forChild(X)],a.c]}),o})();var B=i("0YIw");let K=(()=>{class o{}return o.\u0275mod=l.Mb({type:o}),o.\u0275inj=l.Lb({factory:function(r){return new(r||o)},imports:[[e.b,Y,B.a,s.s,s.p]]}),o})()}}]);